---
title: "グラフ"
date: 2020-05-28T10:52:08+09:00
tags: ["memo", "dfs", "graph", "algorithm", "graph search", "bfs"]
draft: false
---

グラフは単純にノード同士（のいくつか）に辺を持ったものの集まりのこと。

- グラフは有向のものと無向のものがあります。有向の辺は一方通行で、無向の辺は双方通行の通りのようなもの。
- グラフは複数の孤立した部分グラフから成り立っている場合もあります。どの2頂点同士にも経路が存在する場合は「連結グラフ」といいます。
- グラフは閉路を持つ場合も（持たない場合も）あります。「非巡回グラフ」は閉路を持たないグラフです。

## グラフ探索

グラフを探索するためにもっとも一般的な方法は2つあり、深さ優先探索と幅優先探索です。

- 深さ優先探索（DFS: depth-first-search）

  根から探索を開始し次の枝に移る前に各枝を完全に探索します。
  つまり、横方向の探索よりも先に縦方向（より深い方向）の探索を行うことです。

- 幅優先探索（BFS: breadth-first-search）

  根から探索を開始し子ノードの探索を行う前に隣接するノードを探索します。
  つまり、縦方向の探索よりも横方向（幅広い方向）の探索を行うことです。

深さ優先探索と幅優先探索はそれぞれ異なった状況で使われる傾向があります。
深さ優先探索はグラフのすべてのノードを走査したい場合に好まれます。
どちらの方法でも問題ないのですが、深さ優先探索の方がやや単純です。

しかし、2つのノード間の最短経路（あるいは任意の経路）を求めたい場合は一般的に幅優先探索が適しています。

### 深さ優先探索（DFS: depth-first-search）
DFSでは、ノードaを訪れてからaに隣接するノードを走査します。
ノードaに隣接するノードbを訪れるとき、aに隣接するb以外ノードの前にbに隣接するすべてのノードを訪れます。
つまり、ノードaは他の隣接ノードの探索を行う前にノードbの隣接ノードをすべて完全に探索することです。

グラフに対してこのアルゴリズムを実装するときの重要な違いは、ノードをすでに訪れたかどうかをチェックしなければならないところです。
もしチェックしていなければ、無限ループに陥り抜け出せない危険性があります。

### 幅優先探索（BFS: breadth-first-search）
BFSでは、ノードaはaに隣接するノードの各隣接ノードを訪れる前にaの隣接ノードを訪れます。
ノードの深さごとにと考えても良いでしょう。実装はキューを用いて繰り返し処理がベストです。


## 参考文献
- [世界で闘うプログラミング力を鍛える本 ~コーディング面接189問とその解法~](https://www.amazon.co.jp/dp/4839960100/ref=cm_sw_em_r_mt_dp_U_u83ZEbF120Y65)
- [DFS (深さ優先探索) 超入門！ 〜 グラフ・アルゴリズムの世界への入口 〜【前編】](https://qiita.com/drken/items/4a7869c5e304883f539b)
